<?xml version="1.0" encoding="UTF-8"?>
<configuration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.padual.com/java/logback.xsd" debug="false"
               scan="true" scanPeriod="30 second">
    <springProperty scope="context" name="PROJECT" source="spring.application.name"/>
    <!--<springProperty scope="context" name="pathlogs" source="logs"/>-->

    <springProperty scope="context" name="DebugLevel" source="DebugLevel"/>
    <property name="Console_level1" value="${DebugLevel}" />

    <property name="LOG_HOME" value="./logs" />
    <property name="FILENAME" value="oa_console.log"/>
    <property name="FILESIZE" value="50MB" />
    <property name="MAXHISTORY" value="30" />
    <!-- 控制台打印 -->
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder charset="UTF-8" class="com.haiyisec.log.encoder.LogBackExEncoder">
            <pattern>[%-5level] [%d{yyyy-MM-dd HH:mm:ss.SSS}] [%thread] [%threadNum] [%logger{36}] - %m%n</pattern>
        </encoder>
    </appender>
    <!-- ERROR 输入到文件，按日期和文件大小 -->
    <appender name="LOG-OUT" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_HOME}/${FILENAME}</file> <!-- 日志名称 -->
        <encoder charset="UTF-8" class="com.haiyisec.log.encoder.LogBackExEncoder">
            <pattern>[%-5level] [%d{yyyy-MM-dd HH:mm:ss.SSS}] [%thread] [%threadNum] [%logger{36}] - %m%n</pattern>
        </encoder>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${LOG_HOME}/${FILENAME}.%d{yyyy-MM-dd}.%i.zip</fileNamePattern>
            <maxHistory>${MAXHISTORY}</maxHistory>
            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                <maxFileSize>${FILESIZE}</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>
        </rollingPolicy>
    </appender>


    <springProperty scope="context" name="loglevel" source="INFO"/>

    <!-- Logger 根目录 -->
    <root level="INFO">
        <appender-ref ref="STDOUT" />
        <appender-ref ref="LOG-OUT" />
    </root>

    <logger name="org.zen" level="INFO"/>
    <logger name="app" level="INFO"/>
    <logger name="com.haiyisec" level="${Console_level1}"/>
<!--    <logger name="app.dna" level="${Console_level1}"/>-->

</configuration>